<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Wow</title>

</head>
<body>
<p>HE</p>
<canvas id="myChart"></canvas>
<script src="public/Chart.bundle.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', async (event) => {
        await Hello();
    });

    async function Hello () {

        let response = await fetch('/chart');
        let datasets = await response.json();

        let ctx = document.getElementById('myChart').getContext('2d');

        console.log(datasets);

        let chart = new Chart(ctx, {
            // The type of chart we want to create
            type: 'line',

            // The data for our dataset
            data: {
                datasets: datasets
            },

            // Configuration options go here
            options: {
                responsive: true,
                title: {
                    display: true,
                    text: 'Chart.js Time Point Data'
                },
                scales: {
                    xAxes: [{
                        type: 'time',
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: 'Date'
                        },
                        ticks: {
                            major: {
                                fontStyle: 'bold',
                                fontColor: '#FF0000'
                            }
                        }
                    }],
                }
            }
        });
    }
</script>
</body>
</html>